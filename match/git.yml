# FILE: match/git.yml

matches:
  # 1. Comando per GIT PULL (ripetuto per completezza)
  - trigger: ":gpull"
    replace: "{{output}}"
    vars:
      - name: output
        type: shell
        params:
          cmd: "git pull"
          
  # 2. Comando per GIT PUSH (ripetuto per completezza)
  - trigger: ":gpush"
    replace: "{{output}}"
    vars:
      - name: output
        type: shell
        params:
          cmd: "git push"
          
  # 3. Comando per GIT ADD .
  - trigger: ":gadd"
    replace: "{{output}}"
    vars:
      - name: output
        type: shell
        params:
          # Aggiunge tutti i file modificati e non tracciati
          cmd: "git add ."

  # 4. Comando per GIT COMMIT -m "..." (con input)
  - trigger: ":gcommit"
    replace: "{{output}}"
    vars:
      - name: msg
        type: form
        params:
          # Ti chiede di inserire il messaggio di commit
          layout: |
            Commit Message: [[commit_message]]
          fields:
            commit_message:
              multiline: false
              
      - name: output
        type: shell
        params:
          # Esegue il commit utilizzando il messaggio fornito nel form
          cmd: "git commit -m \"{{msg.commit_message}}\""